# *********************
# Data Upload
# *********************

raw_data:
  type: pandas.CSVDataset
  filepath: "data/dev/01_raw/diabetic_data.csv"
  load_args:
    sep: ','


# *********************
# Data Ingestion
# *********************

valid_data:
  type: pandas.CSVDataset
  filepath: "data/dev/02_valid/valid_data.csv"
  load_args:
    sep: ','


# *********************
# Stateless Cleaning
# *********************

stateless_data:
  type: pandas.CSVDataset
  filepath: "data/dev/03_stateless/stateless_data.csv"


# *********************
# Feat. Engineering
# *********************

featurized_data:
  type: pandas.CSVDataset
  filepath: "data/dev/04_featurized/featurized_data.csv"


# *********************
# Data Split
# *********************

X_train:
  type: pandas.CSVDataset
  filepath: "data/dev/05_split/X_train_stateless.csv"

X_val:
  type: pandas.CSVDataset
  filepath: "data/dev/05_split/X_val_stateless:.csv"

X_test:
  type: pandas.CSVDataset
  filepath: "data/dev/05_split/X_test_stateless:.csv"

y_train:
  type: pandas.CSVDataset
  filepath: "data/dev/05_split/y_train.csv"

y_val:
  type: pandas.CSVDataset
  filepath: "data/dev/05_split/y_val.csv"

y_test:
  type: pandas.CSVDataset
  filepath: "data/dev/05_split/y_test.csv"


# *********************
# Stateful Cleaning
# *********************

X_train_stateful:
  type: pandas.CSVDataset
  filepath: "data/dev/06_stateful/X_train_stateful.csv"

X_val_stateful:
  type: pandas.CSVDataset
  filepath: "data/dev/06_stateful/X_val_stateful.csv"

X_test_stateful:
  type: pandas.CSVDataset
  filepath: "data/dev/06_stateful/X_test_stateful.csv"

imputer:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_mlflow.io.models.MlflowModelLocalFileSystemDataset
    flavor: mlflow.sklearn
    filepath: "data/dev/06_stateful/imputer"


# *********************
# Feat. Selection
# *********************

selected_features: 
  type: pickle.PickleDataset
  filepath: "data/dev/07_model_input/selected_features.pkl"

X_train_selected:
  type: pandas.CSVDataset
  filepath: "data/dev/07_model_input/X_train_selected.csv"

X_val_selected:
  type: pandas.CSVDataset
  filepath: "data/dev/07_model_input/X_val_selected.csv"

X_test_selected:
  type: pandas.CSVDataset
  filepath: "data/dev/07_model_input/X_test_selected.csv"


# *********************
# Model Selection
# *********************

# MlflowModelTrackingDataset: to load and save the model from the mlflow artifact store.
# MlflowModelLocalFileSystemDataset: to load and save the model from the local file system.
# MlflowArtifactDataset: to save your model both locally and remotely within the same run.
# check this out: https://kedro-mlflow.readthedocs.io/en/stable/source/04_experimentation_tracking/04_version_models.html

champion_model:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_mlflow.io.models.MlflowModelLocalFileSystemDataset
    flavor: mlflow.sklearn
    filepath: "data/dev/08_models/champion_model"
    versioned: true



# *********************
# Aggreated Data
# *********************

concatenated_processed_data:
  type: pandas.CSVDataset
  filepath: "data/dev/09_reporting/concatenated_processed_data.csv"


# *********************
# Explainability
# *********************

permutation_importance:
  type: pandas.CSVDataset
  filepath: "data/dev/09_reporting/permutation_importance.csv"


# *********************
# Data Drift
# *********************

# check the create_example_reference_data.py file to see how it was created!
reference_data:
  type: pandas.CSVDataset
  filepath: "data/reference/reference_data.csv"

# in html format for now...


